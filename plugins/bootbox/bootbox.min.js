!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.bootbox=e(t.jQuery)}(this,function t(e,o){"use strict";function i(t){var e=C[n.locale];return e?e[t]:C.en[t]}function l(t,o,a){t.stopPropagation(),t.preventDefault();var n=e.isFunction(a)&&a(t)===!1;n||o.modal("hide")}function c(t){var e,o=0;for(e in t)o++;return o}function s(t,o){var a=0;e.each(t,function(t,e){o(t,e,a++)})}function u(t){var o,a;if("object"!=typeof t)throw new Error("Please supply an object of options");if(!t.message)throw new Error("Please specify a message");return t=e.extend({},n,t),t.buttons||(t.buttons={}),t.backdrop=t.backdrop?"static":!1,o=t.buttons,a=c(o),s(o,function(t,n,r){if(e.isFunction(n)&&(n=o[t]={callback:n}),"object"!==e.type(n))throw new Error("button with key "+t+" must be an object");n.label||(n.label=t),n.className||(n.className=2>=a&&r===a-1?"btn-primary":"btn-default")}),t}function f(t,e){var o=t.length,a={};if(1>o||o>2)throw new Error("Invalid argument length");return 2===o||"string"==typeof t[0]?(a[e[0]]=t[0],a[e[1]]=t[1]):a=t[0],a}function p(t,o,a){return e.extend(!0,{},t,f(o,a))}function d(t,e,o,a){var n={className:"bootbox-"+t,buttons:b.apply(null,e)};return m(p(n,a,o),e)}function b(){for(var t={},e=0,o=arguments.length;o>e;e++){var a=arguments[e],n=a.toLowerCase(),r=a.toUpperCase();t[n]={label:i(r)}}return t}function m(t,e){var a={};return s(e,function(t,e){a[e]=!0}),s(t.buttons,function(t){if(a[t]===o)throw new Error("button key "+t+" is not allowed (options are "+e.join("\n")+")")}),t}var a={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:'<button type="button" class="close" data-dismiss="modal"><i class="pci-cross pci-circle"></i></button>',form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},n={locale:"en",backdrop:!0,animate:!0,animateIn:"fade",animateOut:"fade",className:null,closeButton:!0,show:!0,container:"body"},r={};r.defineLocale=function(t,e){return e?(C[t]={OK:e.OK,CANCEL:e.CANCEL,CONFIRM:e.CONFIRM},C[t]):(delete C[t],null)},r.alert=function(){var t;if(t=d("alert",["ok"],["message","callback"],arguments),t.callback&&!e.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return e.isFunction(t.callback)?t.callback():!0},r.dialog(t)},r.confirm=function(){var t;if(t=d("confirm",["cancel","confirm"],["message","callback"],arguments),t.buttons.cancel.callback=t.onEscape=function(){return t.callback(!1)},t.buttons.confirm.callback=function(){return t.callback(!0)},!e.isFunction(t.callback))throw new Error("confirm requires a callback");return r.dialog(t)},r.prompt=function(){var t,n,i,l,c,u,f;if(l=e(a.form),n={className:"bootbox-prompt",buttons:b("cancel","confirm"),value:"",inputType:"text"},t=m(p(n,arguments,["title","callback"]),["cancel","confirm"]),u=t.show===o?!0:t.show,t.message=l,t.buttons.cancel.callback=t.onEscape=function(){return t.callback(null)},t.buttons.confirm.callback=function(){var o;switch(t.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":o=c.val();break;case"checkbox":var a=c.find("input:checked");o=[],s(a,function(t,a){o.push(e(a).val())})}return t.callback(o)},t.show=!1,!t.title)throw new Error("prompt requires a title");if(!e.isFunction(t.callback))throw new Error("prompt requires a callback");if(!a.inputs[t.inputType])throw new Error("invalid prompt type");switch(c=e(a.inputs[t.inputType]),t.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":c.val(t.value);break;case"select":var d={};if(f=t.inputOptions||[],!f.length)throw new Error("prompt with select requires options");s(f,function(t,a){var n=c;if(a.value===o||a.text===o)throw new Error("given options in wrong format");a.group&&(d[a.group]||(d[a.group]=e("<optgroup/>").attr("label",a.group)),n=d[a.group]),n.append("<option value='"+a.value+"'>"+a.text+"</option>")}),s(d,function(t,e){c.append(e)}),c.val(t.value);break;case"checkbox":var C=e.isArray(t.value)?t.value:[t.value];if(f=t.inputOptions||[],!f.length)throw new Error("prompt with checkbox requires options");if(!f[0].value||!f[0].text)throw new Error("given options in wrong format");c=e("<div/>"),s(f,function(o,n){var r=e(a.inputs[t.inputType]);r.find("input").attr("value",n.value),r.find("label").append(n.text),s(C,function(t,e){e===n.value&&r.find("input").prop("checked",!0)}),c.append(r)})}return t.placeholder&&c.attr("placeholder",t.placeholder),t.pattern&&c.attr("pattern",t.pattern),l.append(c),l.on("submit",function(t){t.preventDefault(),t.stopPropagation(),i.find(".btn-primary").click()}),i=r.dialog(t),i.off("shown.bs.modal"),i.on("shown.bs.modal",function(){c.focus()}),u===!0&&i.modal("show"),i},r.dialog=function(t){t=u(t);var n=e(a.dialog),r=n.find(".modal-dialog"),i=n.find(".modal-body"),c=t.buttons,f="",p={onEscape:t.onEscape};if(e.fn.modal===o)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(s(c,function(t,e){f+="<button data-bb-handler='"+t+"' type='button' class='btn "+e.className+"'>"+e.label+"</button>",p[t]=e.callback}),i.find(".bootbox-body").html(t.message),t.animate===!0&&"fade"==t.animateIn?n.addClass("fade"):t.animate===!0&&t.animateIn&&"fade"!=t.animateIn&&r.addClass("animated "+t.animateIn),t.className&&n.addClass(t.className),"large"===t.size&&r.addClass("modal-lg"),"small"===t.size&&r.addClass("modal-sm"),t.title&&i.before(a.header),t.closeButton){var d=e(a.closeButton);t.title?n.find(".modal-header").prepend(d):d.css("margin-top","-10px").prependTo(i)}t.title&&n.find(".modal-title").html(t.title),f.length&&(i.after(a.footer),n.find(".modal-footer").html(f));var b=function(){var t=document.body||document.documentElement,e=t.style,a=e.transition!==o||e.WebkitTransition!==o;return a};return n.on("hide.bs.modal",function(){return n.hasClass("in")&&!n.hasClass("fade")?(n.removeClass("in").on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(t){"opacity"==t.originalEvent.propertyName&&n.modal("hide")}),b()||n.modal("hide"),t.animate===!0&&t.animateOut&&"fade"!=t.animateOut&&r.addClass("animated "+t.animateOut),!1):!0}),n.on("hidden.bs.modal",function(t){t.target===this&&n.remove()}),n.on("shown.bs.modal",function(){n.find(".btn-primary:first").focus()}),n.on("escape.close.bb",function(t){p.onEscape&&l(t,n,p.onEscape)}),n.on("click",".modal-footer button",function(t){var o=e(this).data("bb-handler");l(t,n,p[o])}),n.on("click",".bootbox-close-button",function(t){l(t,n,p.onEscape)}),n.on("keyup",function(t){27===t.which&&n.trigger("escape.close.bb")}),e(t.container).append(n),n.modal({backdrop:t.backdrop,keyboard:!1,show:!1}),t.show&&n.modal("show"),n},r.setDefaults=function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0],e.extend(n,t)},r.hideAll=function(){return e(".bootbox").modal("hide"),r};var C={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},hu:{OK:"OK",CANCEL:"Mégsem",CONFIRM:"Megerősít"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"キャンセル",CONFIRM:"確認"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return r.init=function(o){return t(o||e)},r});